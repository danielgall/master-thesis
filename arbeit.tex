%%
%% Dokumentenart
%%
\NeedsTeXFormat{LaTeX2e}
\documentclass[
    a4paper,
    10pt,
    bibliography=totoc,
    twoside,
    openright,
    numbers=noenddot,
    headings=normal,
    DIV=9,
    BCOR=7mm
    ,parskip
    %,draft
]{scrbook}

%%
%% Unterstützung für deutsche Sprache, Umlaute etc.
%%
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[english]{babel}
\usepackage[babel]{csquotes}

% BibLaTeX
\usepackage[
style=alphabetic,    % Zitierstil
isbn=true,                % ISBN nicht anzeigen, gleiches geht mit nahezu allen anderen Feldern
pagetracker=true,          % ebd. bei wiederholten Angaben (false=ausgeschaltet, page=Seite, spread=Doppelseite, true=automatisch)
maxbibnames=50,            % maximale Namen, die im Literaturverzeichnis angezeigt werden (ich wollte alle)
maxcitenames=3,            % maximale Namen, die im Text angezeigt werden, ab 4 wird u.a. nach den ersten Autor angezeigt
autocite=inline,           % regelt Aussehen für \autocite (inline=\parancite)
block=space,               % kleiner horizontaler Platz zwischen den Feldern
backref=false,              % Seiten anzeigen, auf denen die Referenz vorkommt
%backrefstyle=three+,       % fasst Seiten zusammen, z.B. S. 2f, 6ff, 7-10
date=short,                % Datumsformat
backend=bibtex,
hyperref=true
]{biblatex}
\setlength{\bibitemsep}{1em}     % Abstand zwischen den Literaturangaben
\setlength{\bibhang}{2em}        % Einzug nach jeweils erster Zeile

\bibliography{bibliography}  % Bibtex-Datei wird schon in der Preambel eingebunden


%%
%% Diverse Pakete
%%
\usepackage{fancyvrb}
\usepackage{ccicons} % Creative Commons Lizenzsymbole
\usepackage{lmodern} % verbessert die Schriftdarstellung in pdfs
\usepackage{enumitem} % ändern von listeneinstellungen mit \setlist
\setlist{nolistsep} % kein abstand zwischen items in listen, Befehl von enumitem
\usepackage{float} % use \begin{figure}{H} to really force a figure being placed here
\usepackage[section]{placeins} % floatbarrier at each new section, so every figure appears in its own section
\usepackage{tikz}
\usetikzlibrary{positioning,shapes,shapes.multipart,shadows,arrows,automata,calc,decorations.markings}
\usepackage{tikz-uml}

\usepackage{scrhack}
\usepackage{graphicx}
\usepackage{verbatim}
\usepackage{tabularx}
\usepackage{subfigure}
\usepackage{url}
\usepackage{xcolor}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{setspace}
\usepackage{listings}
\usepackage{colortbl}
%\usepackage{showframe} % Seitenspiegel anzeigen
\usepackage{microtype}
\usepackage{hyperref} % muss letztes Paket in der Liste sein


%%
%% hier Namen etc. einsetzen
%%
\newcommand{\fullname}{Daniel Gall}
\newcommand{\email}{daniel.gall@uni-ulm.de}
\newcommand{\titel}{A Rule-Based Implementation of ACT-R Using Constraint Handling Rules}
\newcommand{\jahr}{2013}
\newcommand{\matnr}{645463}
\newcommand{\gutachterA}{Prof.\ Dr.\ Dr.\ Thom Frühwirth}
\newcommand{\gutachterB}{Prof.\ Dr.\ Slim Abdennadher}
\newcommand{\betreuer}{Prof.\ Dr.\ Dr.\ Thom Frühwirth}
\newcommand{\fakultaet}{Ingenieurwissenschaften\\und Informatik}
%\newcommand{\fakultaet}{Mathematik und\\Wirtschaftswissenschaften}
%\newcommand{\fakultaet}{Naturwissenschaften}
%\newcommand{\fakultaet}{Medizin}
\newcommand{\institut}{Institut für Programmiermethodik und Compilerbau}
\newcommand{\arbeit}{Masterarbeit}
%\newcommand{\arbeit}{Bachelorarbeit}



%% amsthm environment definitions
%%

\newtheorem{definition}{Definition}[chapter]
\newtheorem{example}{Example}[chapter]

%%
%% Setzt Autor und Titel in den Metadaten des erzeugten Dokumentes
%%
\pdfinfo{
    /Author (\fullname)
    /Title (\titel)
    /Producer (pdfeTex 3.14159-1.30.6-2.2)
    /Keywords ()
}
\hypersetup{
    pdftitle=\titel,
    pdfauthor=\fullname,
    pdfsubject={\arbeit},
    pdfproducer={pdfeTex 3.14159-1.30.6-2.2},
    colorlinks=false,
    pdfborder=0 0 0
}


%%
%% Tiefe, bis zu der Überschriften in das Inhaltsverzeichnis kommen
%%
\setcounter{tocdepth}{3}


%%
%% Verhindert überhängende Absatzteile
%%
\clubpenalty10000
\widowpenalty10000
\displaywidowpenalty=10000


%%
%% Eigene Farben
%%
\definecolor{Gray}{rgb}{0.80784, 0.86667, 0.90196} %dunkelblau
\definecolor{Lightgray}{rgb}{0.9176, 0.95, 0.95686} %hellblau
\definecolor{Akzent}{rgb}{0.6627, 0.63529, 0.55294} %akzentfarbe

\definecolor{Uulmin}{RGB}{163,38,56} % Uni Ulm, rot der Fakultät für Ingenieurwissenschaften und Informatik


%%
%% Einstellungen für Codelistings
%%
\lstset{
    language=Prolog,
    showstringspaces=false,
    frame=L,%TB,%single
    %backgroundcolor=\color{Lightgray},
    breaklines=true,
    breakatwhitespace=true,
    xleftmargin=20pt,
    numbers=left,
    aboveskip=\parskip,
    basicstyle=\ttfamily,
    numberstyle=\tiny,
    deletekeywords={ time },
    alsoletter= {<,=,>,:,-,@, |, \\, ? },
    morekeywords={ <=>, ==> , :-, @, |, \\, false, ?- },
    morecomment=[s]{\{}{\}},
    moredelim=[is][\textbf]{<<}{>>},
    moredelim=[is][\textit]{<<<}{>>>}
}


%%
%% Formatierung des Literaturverzeichnisses
%%
%\bibliographystyle{plaindin} % Nummern und alphabetisch sortiert
%\bibliographystyle{alphadin} % Buchstaben und sortiert
%\bibliographystyle{amsalpha}
%\bibliographystyle{abbrvdin} % Nummern und abgekürzte Namen
%\bibliographystyle{unsrtdin} % Nummern und unsortiert


%%
%% Eigene Makros
%%
%\newcommand{\FIXME}[1]{\colorbox{yellow}{\bf FIXME: #1}} % debug mode
\newcommand{\FIXME}[1]{} % deploy mode


%%
%% Liniendicke in Tabellen etc.
%%
\setlength{\arrayrulewidth}{0.1pt}


%%
%% Schriftarten
%%
\renewcommand{\sfdefault}{phv}
\renewcommand{\rmdefault}{phv}
\renewcommand{\ttdefault}{pcr}
\KOMAoptions{DIV=last}


%%
%% Seitenlayout
%%
\pagestyle{headings}


%%
%% Trennungsregeln
%%
\hyphenation{Sil-ben-trenn-ung}


%%
%% Schönere Bullets bei Aufzählungen
%%
\renewcommand{\labelitemi}{$\bullet$}
\renewcommand{\labelitemii}{$\circ$}
\renewcommand{\labelitemiii}{$\cdot$}


%%
%% Beginn des eigentlichen Dokumentes
%%
\begin{document}


%%
%% Vorspann
%%
\frontmatter


%%
%% Titelseite
%%
\thispagestyle{empty}
\begin{addmargin*}[4mm]{-32mm}
    % Logo und Wortmarke
    \includegraphics[height=1.8cm]{images/unilogo_bild}
    \hfill
    \includegraphics[height=1.8cm]{images/unilogo_wort}
    \vspace*{2.1em}

    % Briefkopf
    \footnotesize
    \textbf{Universität Ulm} \textbar ~89069 Ulm \textbar ~Germany
    \hfill
    \parbox[t]{42mm}{\bfseries Fakultät für\\\fakultaet\\\mdseries\institut}
    \vspace*{2cm}

    % Titel
    \parbox{140mm}{\bfseries \raggedright \huge \titel}

    % Untertitel
    {\arbeit{} an der Universität Ulm}
    \vspace*{4em}

    % Prüfer etc.
    \textbf{Vorgelegt von:}\\\fullname\\\email\\[2em]
    \textbf{Gutachter:}\\\gutachterA\\\gutachterB\\[2em]
    \textbf{Betreuer:}\\\betreuer\\[1.5em]
    \jahr
\end{addmargin*}


%%
%% Impressum
%%
\clearpage
\thispagestyle{empty}
{
    % vollständiger Titel
    \small \flushleft \enquote{\titel}\\
    Version of \today
    \vfill

    % Danksagung
    %\textsc{Danksagungen:}
    %\FIXME{Danksagungen}
    %\vspace{1cm}

    % Anerkennung
%     Bei der Erstellung dieser \arbeit{} wurde ausschließlich freie Software eingesetzt: \\
%     \begin{figure}[ht]
%         \centering
%         \subfigure{\includegraphics[height=1cm]{images/sw/ubuntu}}
%         \hspace{0.5cm}
%         \subfigure{\includegraphics[height=1cm]{images/sw/texmaker}}
%         \hspace{0.5cm}
%         \subfigure{\includegraphics[height=1cm]{images/sw/inkscape}}
%         \hspace{0.5cm}
%         \subfigure{\includegraphics[height=1cm]{images/sw/subversion}}
%         \hspace{0.5cm}
%         \subfigure{\includegraphics[height=1cm]{images/sw/jabref}}
%         \hspace{0.5cm}
%         \subfigure{\includegraphics[height=1cm]{images/sw/firefox}}
%         \hspace{0.5cm}
%         \subfigure{\includegraphics[height=1cm]{images/sw/evince}}
%     \end{figure}
%     \vspace{1cm}

    % Urheberrechtshinweis
    \copyright{} \jahr{} \fullname{}\\[0.5em]
    % Falls keine Lizenz gewünscht wird bitte den folgenden Text entfernen.
    % Die Lizenz erlaubt es zu nichtkommerziellen Zwecken die Arbeit zu
    % vervielfältigen und Kopien zu machen. Dabei muss aber immer der Autor
    % angegeben werden. Eine kommerzielle Verwertung ist für den Autor
    % weiter möglich.
    This work is licensed under a Creative Commons Attribution-NonCommercial-ShareAlike 3.0 License: \url{http://creativecommons.org/licenses/by-nc-sa/3.0/}\\
    \ccbyncsa\\
    \vspace{0.5cm}
    Typesetting: PDF-\LaTeXe{}\\
    Graphics created with: Ti\textit{k}Z\\
    Printed by: Kommunikations- und Informationszentrum (kiz), Ulm University
}

\setstretch{1.2} % was: 1.4
\renewcommand{\arraystretch}{1.2} % gleicher Zeilenabstand in Tabellen


\input{chapters/abstract}

% fix badboxes in toc
\makeatletter
\renewcommand{\@pnumwidth}{1.8em} 
\renewcommand{\@tocrmarg}{2em}
\makeatother

%%
%% Inhaltsverzeichnis
%%
\microtypesetup{protrusion=false}
\tableofcontents
\microtypesetup{protrusion=true}

%%
%% Hauptteil
%%
\mainmatter
\input{chapters/introduction}
\input{chapters/actr}
\input{chapters/chr}
\input{chapters/implementation}
\input{chapters/example_models}
\input{chapters/conclusion}


% hier weitere Kapitel einbinden


%%
%% Anhänge
%%
\appendix
\input{chapters/appendix_cdcontent}
%\input{chapters/sources}
%\input{chapters/production_grammar}
\input{chapters/appendix_examples}


%%
%% Nachspann
%%
\backmatter


%%
%% Literaturverzeichnis
%%
%\bibliography{bibliography}
\begin{flushleft} % kein Blocksatz in Literaturverzeichnis
\printbibliography 
\end{flushleft}

%%
%% Versicherung
%%
\cleardoublepage
\thispagestyle{empty}

Name: \fullname \hfill Matrikelnummer: \matnr \vspace{2cm}

\minisec{Erklärung}

Ich erkläre, dass ich die Arbeit selbständig verfasst und keine anderen als die angegebenen Quellen und Hilfsmittel verwendet habe.\vspace{2cm}

Ulm, den \dotfill

\hfill {\footnotesize \fullname}
\end{document}
